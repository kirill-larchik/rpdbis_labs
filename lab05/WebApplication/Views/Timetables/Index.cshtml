@model WebApplication.ViewModels.Entities.TimetablesViewModel
@{
    ViewData["Title"] = "Timetables";
}

<div class="container w-100">
    <form>
        <h2 class="text-center">
            <label asp-for="Entities"></label>
        </h2>

        <p>
            <div class="container">
                <a asp-action="Create" asp-route-page="@Model.PageViewModel.CurrentPage" class="btn btn-primary">Add new entity</a>
            </div>
        </p>

        <table class="table table-hover table-sm">
            <thead class="thead-dark text-center">
                <tr>
                    <th><label asp-for="Entity.DayOfWeek"></label></th>
                    <th><label asp-for="Entity.Month"></label></th>
                    <th><label asp-for="Entity.Year"></label></th>
                    <th><label asp-for="Entity.Show.Name"></label></th>
                    <th><label asp-for="Entity.StartTime"></label></th>
                    <th><label asp-for="Entity.EndTime"></label></th>
                    <th>Modification</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var entity in Model.Entities)
                {
                    <tr>
                        <td class="text-center">@entity.DayOfWeek</td>
                        <td class="text-center">@entity.Month</td>
                        <td class="text-center">@entity.Year</td>
                        <td>@entity.Show.Name</td>
                        <td class="text-center">@entity.StartTime</td>
                        <td class="text-center">@entity.EndTime</td>
                        <td class="text-center">
                            <a asp-action="Edit" asp-route-id="@entity.TimetableId" asp-route-page="@Model.PageViewModel.CurrentPage" class="btn btn-warning">Edit</a>
                            <a asp-action="Delete" asp-route-id="@entity.TimetableId" asp-route-page="@Model.PageViewModel.CurrentPage" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="container float-left">
            <div class="text-left float-left">
                <input type="number" name="page" value="@Model.PageViewModel.CurrentPage" class="w-25" />
                <input type="submit" value="Move" class="btn btn-primary" />
            </div>

            <div class="text-right float-right">
                @if (Model.PageViewModel.HasPreviousPage)
                {
                    <a asp-action="Index" asp-route-page="@(Model.PageViewModel.CurrentPage - 1)" class="btn btn-primary">Back</a>
                }
                @if (Model.PageViewModel.HasNextPage)
                {
                    <a asp-action="Index" asp-route-page="@(Model.PageViewModel.CurrentPage + 1)" class="btn btn-primary">Next</a>
                }
            </div>
        </div>
    </form>
</div>
